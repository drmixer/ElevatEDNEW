Project variables & secrets
===========================

Where to set them
- Netlify (or hosting env): frontend env vars exposed at build/runtime.
- Server runtime: same as Netlify if the API runs there; otherwise your API host’s env.
- Supabase: manage database credentials/keys in the Supabase dashboard; no hardcoding in repo.

Core Supabase
- SUPABASE_URL (Netlify + server runtime) – Supabase project URL.
- SUPABASE_ANON_KEY (Netlify + server runtime) – public anon key for client.
- SUPABASE_SERVICE_ROLE_KEY (server runtime only) – service role key for backend tasks/webhooks.

API / App
- APP_BASE_URL (Netlify + server runtime) – site origin, used for checkout/portal return URLs.
- ENFORCE_PLAN_LIMITS (server runtime; optional, default "false") – set to "true" to gate AI/lessons by plan.

Billing / Stripe
- STRIPE_SECRET_KEY (server runtime) – Stripe secret.
- STRIPE_WEBHOOK_SECRET (server runtime) – webhook signing secret for /api/v1/billing/webhook.
- STRIPE_PRICE_FAMILY_FREE (server runtime) – price ID → plan slug family-free.
- STRIPE_PRICE_FAMILY_PLUS (server runtime) – price ID → plan slug family-plus.
- STRIPE_PRICE_FAMILY_PREMIUM (server runtime) – price ID → plan slug family-premium.
- DEFAULT_PREMIUM_PLAN_SLUG (server runtime; optional, default "family-premium") – override default premium slug.
- BILLING_SANDBOX_MODE (server runtime; optional, default "false") – set to "true" to bypass Stripe and auto-activate plans.
- BILLING_BYPASS_PARENTS (server runtime; optional, default empty) – comma-separated parent UUIDs or emails to auto-activate premium.

Monitoring / Analytics (if used)
- SENTRY_DSN (Netlify + server runtime; optional) – Sentry DSN for monitoring.
- POSTHOG_API_KEY or similar (Netlify; optional) – if analytics is wired in your deploy.

Local development
- Mirror the above in a `.env` (not committed). Use Supabase service role key only for local server/webhook testing.
